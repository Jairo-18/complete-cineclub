import './polyfills.server.mjs';
import{a as Le,b as K}from"./chunk-ZI5IGZAG.mjs";import"./chunk-VRKUPS3B.mjs";import{a as Z,b as Ye}from"./chunk-GZ6OCTNW.mjs";import"./chunk-LJDVZHPD.mjs";import{b as Xe}from"./chunk-7ZPJTXPL.mjs";import{a as Ie,b as Te,c as ke,d as qe}from"./chunk-VX5I47V5.mjs";import{a as G}from"./chunk-TCU7CGXP.mjs";import"./chunk-XXL64ETW.mjs";import"./chunk-CPUCP4NP.mjs";import{a as Ne}from"./chunk-HOIKXKDC.mjs";import"./chunk-JGNX5KPE.mjs";import{d as J}from"./chunk-LYFFEPC2.mjs";import"./chunk-GRXIXLG2.mjs";import"./chunk-SN4ZLEXK.mjs";import"./chunk-C7WF65TO.mjs";import{a as Ue}from"./chunk-KXZRHGC3.mjs";import{a as Pe,b as Fe}from"./chunk-IZYF7JLB.mjs";import"./chunk-POLO5U2S.mjs";import{b as Qe,c as We}from"./chunk-DMVK7NGP.mjs";import{a as Y}from"./chunk-XD35RQRI.mjs";import{A as ze,D as Be,E as $e,e as De,j as Oe,n as He,u as Ve,w as Ae,z as je}from"./chunk-R2LPZPTP.mjs";import{l as Re,m as D,n as O,o as F}from"./chunk-37XX4R2Q.mjs";import{b as E,c as R}from"./chunk-QHGSIMU3.mjs";import"./chunk-3YY5WZBW.mjs";import{l as X}from"./chunk-6XZJ4HF4.mjs";import"./chunk-BKMGEJ4V.mjs";import"./chunk-ABBCMJJI.mjs";import{c as Se,f as ye,g as L}from"./chunk-5Y2PL6TA.mjs";import{a as Me}from"./chunk-TPI6FTCS.mjs";import{$b as _e,Ab as ge,Ac as be,Bb as fe,Db as b,E as $,Gb as p,Ha as A,Ib as c,Ja as ue,La as l,Ub as Q,V as me,Wb as s,Wc as we,Xa as v,Xb as N,Yb as y,Zb as xe,_ as u,_b as he,_c as P,ab as j,ac as ve,bc as W,cb as S,da as x,ea as h,fc as z,nb as g,nd as Ce,ob as f,ra as pe,rb as T,sb as k,tb as m,ub as r,ud as Ee,vb as o,wb as w}from"./chunk-I37AKPGM.mjs";import"./chunk-BPPYXBGU.mjs";import{a as C,b as U,h as de}from"./chunk-S6KH3LOX.mjs";var Ge=[{icon:"book",tittle:"Pel\xEDculas para todos",subtitle:"Desde blockbusters hasta joyas independientes",description:"Descubre recomendaciones personalizadas basadas en tus gustos y las opiniones de una comunidad diversa de cin\xE9filos."},{icon:"local_movies",tittle:"Libros que inspiran",subtitle:"Ficci\xF3n, no ficci\xF3n y todo lo que est\xE1 en el medio",description:"Explora rese\xF1as detalladas y encuentra tu pr\xF3xima lectura perfecta a trav\xE9s de recomendaciones de lectores apasionados."},{icon:"people",tittle:"Comunidad activa",subtitle:"Conecta con personas que comparten tus intereses",description:"Participa en discusiones, comparte tus opiniones y descubre nuevas perspectivas sobre tus obras favoritas."}];var ee=class n{data;static \u0275fac=function(e){return new(e||n)};static \u0275cmp=v({type:n,selectors:[["app-home-card"]],inputs:{data:"data"},decls:10,vars:4,consts:[[1,"border","border-[#8458A6]","flex","flex-col","bg-homeCard","rounded-2xl","p-[15px]","2xl:p-[25px]","3xl:p-[35px]","shadow-lg","hover:scale-[1.02]","transition-transform","duration-300","text-white","w-[260px]","lg:w-[550px]","2xl:w-[370px]","3xl:w-[450px]","lg:h-[185px]","2xl:h-[200px]","3xl:h-[230px]"],[1,"flex","items-center","gap-3"],[1,"font-bold","text-base","2xl:text-[20px]","3xl:text-[24px]"],[1,"text-xs","md:text-[13px]","mt-2"],[1,"text-xs","md:text-[13px]","mt-4","md:mt-7"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"section",1)(2,"mat-icon"),s(3),o(),r(4,"span",2),s(5),o()(),r(6,"span",3),s(7),o(),r(8,"span",4),s(9),o()()),e&2&&(l(3),N(i.data.icon),l(2),N(i.data.tittle),l(2),N(i.data.subtitle),l(2),y(" ",i.data.description," "))},dependencies:[R,E],styles:[".mat-icon[_ngcontent-%COMP%]{height:45px!important;width:45px!important;font-size:45px!important}@media (max-width: 1536px){.mat-icon[_ngcontent-%COMP%]{height:35px!important;width:35px!important;font-size:35px!important}}@media (max-width: 768px){.mat-icon[_ngcontent-%COMP%]{height:25px!important;width:25px!important;font-size:25px!important}}"]})};var Ze=(n,t)=>t.tittle;function Ke(n,t){if(n&1&&w(0,"app-home-card",8),n&2){let e=t.$implicit;m("data",e)}}var te=class n{_supabaseService=u(Y);sub;isReady=!1;menuCards=Ge;isLoggedIn=!1;ngOnInit(){this.sub=this._supabaseService.user$.pipe($((t,e)=>JSON.stringify(t)===JSON.stringify(e))).subscribe(t=>{this.isReady=!0,this.isLoggedIn=!!t})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=v({type:n,selectors:[["app-home-logout"]],decls:26,vars:12,consts:[[1,"bg-base","py-10","2xl:py-0","3xl:py-0","px-0","md:px-10"],[1,"font-bold","text-xl","lg:text-2xl","2xl:text-3xl","3xl:text-4xl"],[1,"w-[270px]","lg:w-[570px]","2xl:w-[470px]","3xl:w-[570px]","text-center","mt-4","2xl:mt-6","3xl:mt-8"],[1,"font-medium","text-xs","2xl:text-base","3xl:text-xl"],[1,"flex","items-center","justify-end","gap-x-3","font-bold","text-2xl","mt-4","2xl:mt-6","3xl:mt-8"],["mat-fab","","extended","","routerLink","/auth/register"],["mat-stroked-button","","matStepperPrevious","","routerLink","/auth/login"],[1,"grid","md:grid-cols-1","lg:grid-cols-1","2xl:grid-cols-3","3xl:grid-cols-3","gap-[20px]","2xl:gap-[40px]","3xl:gap-[60px]","mt-4","2xl:mt-6","3xl:mt-8"],[3,"data"],[1,"border","border-transparent","lg:border-[#8458A6]","2xl:border-[#8458A6]","3xl:border-[#8458A6]","flex","flex-col","bg-homeCard","rounded-2xl","p-[15px]","2xl:p-[25px]","3xl:p-[35px]","text-white","md:min-w-[400px]","w-[260px]","lg:w-[550px]","2xl:w-[650px]","3xl:w-[750px]","2xl:max-h-[200px]","3xl:max-h-[200px]","items-center","text-center","mt-4","2xl:mt-6","3xl:mt-8"],[1,"flex","items-center","gap-3"],[1,"font-bold","text-base","2xl:text-[20px]","3xl:text-[24px]"],[1,"text-xs","md:text-[13px]","mt-2","md:mt-6"],[1,"flex","flex-col","md:flex-row","items-center","justify-center","gap-3","font-bold","text-2xl","mt-2","2xl:mt-4","3xl:mt-6","w-full"],["mat-stroked-button","","matStepperPrevious","","routerLink","/auth/register",1,"w-full","md:w-auto"],[1,"w-full","md:w-[25%]"],["mat-fab","","extended","","routerLink","/auth/login",1,"!w-full"]],template:function(e,i){e&1&&(r(0,"article",0)(1,"span",1),s(2,"Descubre tu pr\xF3xima obsesi\xF3n"),o(),r(3,"div",2)(4,"span",3),s(5,"\xDAnete a una comunidad apasionada que comparte las mejores recomendaciones de pel\xEDculas y libros. Encuentra tu pr\xF3ximo favorito a trav\xE9s de rese\xF1as aut\xE9nticas de usuarios como t\xFA."),o()(),r(6,"section",4)(7,"button",5),s(8,"Comienza gratis"),o(),r(9,"button",6),s(10," Ya tengo una cuenta "),o()(),r(11,"div",7),T(12,Ke,1,1,"app-home-card",8,Ze),o(),r(14,"div",9)(15,"section",10)(16,"span",11),s(17," \xBFListo para comenzar tu viaje de descubrimiento? "),o()(),r(18,"span",12),s(19," \xDAnete a miles de usuarios que ya est\xE1n compartiendo y descubriendo contenido incre\xEDble "),o(),r(20,"section",13)(21,"button",14),s(22," Crear cuenta gratuita "),o(),r(23,"div",15)(24,"button",16),s(25,"Iniciar sesi\xF3n"),o()()()()()),e&2&&(Q("bg-logged",i.isLoggedIn)("bg-guest",!i.isLoggedIn),l(),Q("text-white",!i.isLoggedIn)("text-black",i.isLoggedIn),l(3),Q("text-white",!i.isLoggedIn)("text-black",i.isLoggedIn),l(8),k(i.menuCards))},dependencies:[F,D,O,ee,L],encapsulation:2})};var et=n=>["/profile/public-profile",n];function tt(n,t){n&1&&(r(0,"div",6)(1,"mat-icon",7),s(2,"person_off"),o(),r(3,"p"),s(4,"No hay sugerencias disponibles"),o()())}function it(n,t){n&1&&(r(0,"span"),s(1,"Cancelando..."),o())}function nt(n,t){n&1&&(r(0,"span"),s(1,"Cancelar solicitud"),o())}function rt(n,t){if(n&1){let e=b();r(0,"button",22),p("click",function(){x(e);let a=c(2);return h(a.cancelFriendRequest(a.currentUser.id))}),g(1,it,2,0,"span")(2,nt,2,0,"span"),o()}if(n&2){let e=c(2);m("disabled",e.cancelingRequest),l(),f(e.cancelingRequest?1:2)}}function ot(n,t){n&1&&(r(0,"span"),s(1,"Enviando..."),o())}function at(n,t){n&1&&(ge(0),r(1,"mat-icon"),s(2,"person_add"),o(),r(3,"span"),s(4,"A\xF1adir amigo"),o(),fe())}function st(n,t){if(n&1){let e=b();r(0,"button",23),p("click",function(){x(e);let a=c(2);return h(a.sendFriendRequest(a.currentUser.id))}),g(1,ot,2,0,"span")(2,at,5,0,"ng-container"),o()}if(n&2){let e=c(2);m("disabled",e.sendingRequest),l(),f(e.sendingRequest?1:2)}}function lt(n,t){if(n&1){let e=b();r(0,"div",8)(1,"div",9)(2,"img",10),p("error",function(a){x(e);let d=c();return h(d.onImageError(a))}),o(),r(3,"div",11)(4,"h3",12),s(5),o(),r(6,"p",13),s(7),o(),r(8,"div",14)(9,"span",15),s(10),o()()()()(),r(11,"div",16),g(12,rt,3,2,"button",17)(13,st,3,2,"button",18),r(14,"button",19)(15,"mat-icon"),s(16,"visibility"),o(),r(17,"span"),s(18,"Ver perfil"),o()()(),r(19,"div",20)(20,"mat-icon",21),s(21,"swipe"),o(),r(22,"span"),s(23,"Desliza para ver m\xE1s"),o()()}if(n&2){let e=c();l(2),m("alt",W(e.currentUser.fullName))("src",e.currentUser.avatarUrl||"/assets/images/defaultUser.png",A),l(3),y(" ",e.currentUser.fullName||"Usuario desconocido"," "),l(2),N("@"+e.currentUser.username),l(3),y(" ",e.currentUser.country," "),l(2),f(e.currentUser.hasPendingRequest&&e.currentUser.isSender?12:13),l(2),m("routerLink",z(8,et,e.currentUser.id))}}var ie=class n{_friendRequestService=u(G);_notificationsService=u(X);users=[];loading=!1;next=new S;prev=new S;currentUser=null;sendingRequest=!1;cancelingRequest=!1;localIndex=0;touchStartX=0;touchEndX=0;ngOnInit(){this.updateCurrentUser()}ngOnChanges(t){t.users&&(this.localIndex=0,this.updateCurrentUser())}updateCurrentUser(){this.users&&this.users.length>0?(this.localIndex>=this.users.length&&(this.localIndex=0),this.currentUser=this.users[this.localIndex]):this.currentUser=null}nextUser(){!this.users||this.users.length===0||(this.localIndex<this.users.length-1?(this.localIndex++,this.currentUser=this.users[this.localIndex]):this.next.emit())}prevUser(){!this.users||this.users.length===0||(this.localIndex>0?(this.localIndex--,this.currentUser=this.users[this.localIndex]):this.prev.emit())}sendFriendRequest(t){this.sendingRequest||(this.sendingRequest=!0,this._friendRequestService.sendFriendRequest(t).subscribe({next:e=>{this._notificationsService.success(e.message||"Solicitud de amistad enviada correctamente"),this.currentUser&&(this.currentUser=U(C({},this.currentUser),{hasPendingRequest:!0,isSender:!0}),this.users[this.localIndex]&&(this.users[this.localIndex]=C({},this.currentUser))),this.sendingRequest=!1},error:e=>{console.error("\u274C Error al enviar solicitud de amistad:",e);let i=e?.error?.message||"No se pudo enviar la solicitud de amistad";this._notificationsService.error(i),this.sendingRequest=!1}}))}cancelFriendRequest(t){this.cancelingRequest||(this.cancelingRequest=!0,this._friendRequestService.cancelFriendRequest(t).subscribe({next:e=>{this._notificationsService.success(e.message||"Solicitud de amistad cancelada correctamente"),this.currentUser&&(this.currentUser=U(C({},this.currentUser),{hasPendingRequest:!1,isSender:null}),this.users[this.localIndex]&&(this.users[this.localIndex]=C({},this.currentUser))),this.cancelingRequest=!1},error:e=>{console.error("\u274C Error al cancelar solicitud de amistad:",e);let i=e?.error?.message||"No se pudo cancelar la solicitud de amistad";this._notificationsService.error(i),this.cancelingRequest=!1}}))}onTouchStart(t){this.touchStartX=t.changedTouches[0].screenX}onTouchEnd(t){this.touchEndX=t.changedTouches[0].screenX,this.handleSwipe()}handleSwipe(){this.touchEndX<this.touchStartX-50?this.nextUser():this.touchEndX>this.touchStartX+50&&this.prevUser()}onImageError(t){let e=t.target;e.src="/assets/images/defaultUser.png"}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=v({type:n,selectors:[["app-friend-slider"]],inputs:{users:"users",loading:"loading"},outputs:{next:"next",prev:"prev"},features:[pe],decls:10,vars:2,consts:[[1,"lg:hidden","bg-gradient-to-r","from-[#9811fb]/10","to-[#F0F4F9]","rounded-lg","shadow-lg","border","border-[#9811fb]/30","p-4","w-full","my-6","select-none",3,"touchstart","touchend"],[1,"flex","items-center","justify-between","mb-4"],[1,"flex","items-center","gap-2"],[1,"text-[#9811fb]"],[1,"font-semibold","text-sm"],[1,"flex","items-center","gap-1","text-xs","text-gray-600"],[1,"text-center","py-8","text-gray-500","text-sm"],[1,"text-4xl","mb-2"],[1,"bg-white","rounded-lg","shadow-md","p-4","mb-2","pointer-events-none"],[1,"flex","flex-col","items-center","gap-3"],["referrerpolicy","no-referrer","crossorigin","anonymous",1,"w-20","h-20","rounded-full","object-cover","border-2","border-[#9811fb]",3,"error","src","alt"],[1,"text-center","w-full"],[1,"font-semibold","text-base","text-gray-800","truncate"],[1,"text-sm","text-gray-500"],[1,"flex","justify-center","mt-2"],[1,"px-2","py-0.5","text-xs","bg-[#9811fb]","rounded-full","text-white"],[1,"flex","flex-col","gap-2","w-full","mb-4"],["mat-raised-button","","color","warn",1,"w-full","!bg-red-600","!text-white",3,"disabled"],["mat-fab","","extended","",1,"w-full",3,"disabled"],["mat-stroked-button","",1,"w-full",3,"routerLink"],[1,"flex","justify-center","items-center","gap-2","text-gray-400","text-xs","animate-pulse"],[1,"text-sm","h-4","w-4"],["mat-raised-button","","color","warn",1,"w-full","!bg-red-600","!text-white",3,"click","disabled"],["mat-fab","","extended","",1,"w-full",3,"click","disabled"]],template:function(e,i){e&1&&(r(0,"article",0),p("touchstart",function(d){return i.onTouchStart(d)})("touchend",function(d){return i.onTouchEnd(d)}),r(1,"div",1)(2,"div",2)(3,"mat-icon",3),s(4,"people"),o(),r(5,"span",4),s(6,"Sugerencias de amistad"),o()(),w(7,"div",5),o(),g(8,tt,5,0,"div",6),g(9,lt,24,10),o()),e&2&&(l(8),f(!i.loading&&!i.currentUser?8:-1),l(),f(!i.loading&&i.currentUser?9:-1))},dependencies:[R,E,F,D,O,P,L],styles:["[_nghost-%COMP%]{display:block;width:100%}article[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .3s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}"]})};var dt=(n,t)=>t.id;function ct(n,t){if(n&1){let e=b();r(0,"button",6),p("click",function(){x(e);let a=c();return a.searchQuery="",h(a.onSearchChange())}),r(1,"mat-icon"),s(2,"close"),o()()}}function mt(n,t){n&1&&(r(0,"div",5),w(1,"mat-spinner",7),o())}function pt(n,t){if(n&1){let e=b();r(0,"app-friend-slider",14),p("next",function(){x(e);let a=c(3);return h(a.nextUsers.emit())})("prev",function(){x(e);let a=c(3);return h(a.prevUsers.emit())}),o()}if(n&2){let e=c(3);m("users",e.users)("loading",e.loadingUsers)}}function ut(n,t){if(n&1){let e=b();r(0,"div",11)(1,"app-card-review",12),p("editReview",function(a){x(e);let d=c(2);return h(d.onEditReview(a))})("deleteReview",function(a){x(e);let d=c(2);return h(d.onDeleteReview(a))}),o()(),g(2,pt,1,2,"app-friend-slider",13)}if(n&2){let e=t.$implicit,i=t.$index,a=c(2);m("id","review-"+e.id),l(),m("id",e.id)("title",e.title)("content",e.content)("posterPath",e.posterPath)("reviewerName",e.reviewerName)("directorName",e.directorName)("rating",e.rating)("createdAt",e.createdAt)("userId",e.userId)("currentUserId",a.currentUserId)("likes",e.likes)("comments",e.comments)("liked",e.liked),l(),f(a.shouldShowFriendSlider(i)?2:-1)}}function gt(n,t){n&1&&(r(0,"div",9)(1,"mat-icon",15),s(2,"rate_review"),o(),r(3,"p",16),s(4,"No hay reviews disponibles"),o()())}function ft(n,t){if(n&1&&(r(0,"div",9)(1,"mat-icon",15),s(2,"search_off"),o(),r(3,"p",16),s(4),o()()),n&2){let e=c(2);l(4),y('No se encontraron rese\xF1as con el t\xEDtulo "',e.searchQuery,'"')}}function xt(n,t){n&1&&(r(0,"div",10),w(1,"mat-spinner",17),o())}function ht(n,t){if(n&1&&(r(0,"div",8),T(1,ut,3,15,null,null,dt),g(3,gt,5,0,"div",9),g(4,ft,5,1,"div",9),o(),g(5,xt,2,0,"div",10)),n&2){let e=c();l(),k(e.reviews),l(2),f(e.reviews.length===0&&!e.searchQuery?3:-1),l(),f(e.reviews.length===0&&e.searchQuery?4:-1),l(),f(e.isLoadingMore?5:-1)}}var ne=class n{_reviewsService=u(Z);dialog=u(J);route=u(Se);router=u(ye);reviewsChangedSubscription;targetReviewId=null;hasScrolled=!1;users=[];loadingUsers=!1;nextUsers=new S;prevUsers=new S;reviews=[];isLoading=!1;isLoadingMore=!1;currentUserId="";searchQuery="";searchTimeout;PAGE_SIZE=10;pagination={page:1,size:this.PAGE_SIZE,total:0,totalPages:0,hasNext:!1,hasPrevious:!1};ngOnInit(){this.getCurrentUserId(),this.route.queryParams.subscribe(t=>{t.reviewId&&(this.targetReviewId=t.reviewId,this.hasScrolled=!1)}),this.loadReviews(),this.setupScrollListener(),this.reviewsChangedSubscription=this._reviewsService.reviewsChanged$.subscribe(()=>{this.reviews=[],this.pagination.page=1,this.isLoadingMore=!1,this.searchQuery="";let t=document.querySelector("main.main");t?t.scrollTop=0:window.scrollTo(0,0),this.loadReviews(!0)})}ngAfterViewChecked(){this.targetReviewId&&!this.hasScrolled&&this.reviews.length>0&&this.scrollToReview(this.targetReviewId)}ngOnDestroy(){this.reviewsChangedSubscription&&this.reviewsChangedSubscription.unsubscribe()}getCurrentUserId(){let t=localStorage.getItem("app_session");if(t)try{let e=JSON.parse(t);this.currentUserId=e.user?.id||""}catch(e){console.error("Error parsing session:",e)}else console.warn("\u26A0\uFE0F No session found in localStorage")}setupScrollListener(){let t=document.querySelector("main.main");t?t.addEventListener("scroll",()=>{this.checkScroll(t)}):window.addEventListener("scroll",()=>{this.checkScrollWindow()})}checkScroll(t){let e=t.scrollTop+t.clientHeight,i=t.scrollHeight;e/i*100>=50&&this.pagination.hasNext&&!this.isLoadingMore&&this.loadMoreReviews()}checkScrollWindow(){let t=window.pageYOffset+window.innerHeight,e=document.documentElement.scrollHeight;t/e*100>=50&&this.pagination.hasNext&&!this.isLoadingMore&&this.loadMoreReviews()}loadReviews(t=!0){t&&(this.isLoading=!0),setTimeout(()=>{let e={page:this.pagination.page,size:this.PAGE_SIZE,sort:"createdAt,desc"};this.searchQuery&&this.searchQuery.trim()&&(e.title=this.searchQuery.trim()),this._reviewsService.getReviewsWithPagination(e).subscribe({next:i=>{let a=i.data||[];this.reviews=a.sort((d,_)=>new Date(_.createdAt).getTime()-new Date(d.createdAt).getTime()),this.pagination=C({},i.pagination),t&&(this.isLoading=!1)},error:()=>{t&&(this.isLoading=!1)}})})}loadMoreReviews(){if(!this.pagination.hasNext||this.isLoadingMore)return;this.isLoadingMore=!0,this.pagination.page++;let t={page:this.pagination.page,size:this.PAGE_SIZE,sort:"createdAt,desc"};this.searchQuery&&this.searchQuery.trim()&&(t.title=this.searchQuery.trim()),this._reviewsService.getReviewsWithPagination(t).subscribe({next:e=>{let i=new Set(this.reviews.map(_=>_.id)),d=(e.data||[]).filter(_=>!i.has(_.id));this.reviews=[...this.reviews,...d],this.reviews.sort((_,H)=>new Date(H.createdAt).getTime()-new Date(_.createdAt).getTime()),this.pagination=C({},e.pagination),this.isLoadingMore=!1},error:()=>{this.isLoadingMore=!1,this.pagination.page--}})}goToPage(t){t>=1&&t<=(this.pagination.totalPages||0)&&(this.pagination.page=t,this.loadReviews())}nextPage(){this.pagination.hasNext&&(this.pagination.page++,this.loadReviews())}previousPage(){this.pagination.hasPrevious&&(this.pagination.page--,this.loadReviews())}get pages(){let t=[],i=this.pagination.totalPages||0,a=Math.max(1,this.pagination.page-Math.floor(5/2)),d=Math.min(i,a+5-1);d-a+1<5&&(a=Math.max(1,d-5+1));for(let _=a;_<=d;_++)t.push(_);return t}onEditReview(t){let e=this.reviews.find(a=>a.id===t);if(!e)return;this.dialog.open(K,{width:"600px",maxWidth:"90vw",data:{title:"Editar Rese\xF1a",message:"Modifica tu opini\xF3n sobre esta pel\xEDcula",isEdit:!0,reviewData:{content:e.content,rating:e.rating,title:e.title}}}).afterClosed().subscribe(a=>{a&&a.content&&a.rating&&this._reviewsService.updateReview(t,a).subscribe({next:()=>{this._reviewsService.notifyReviewsChanged()},error:d=>{console.error("Error actualizando review:",d)}})})}onDeleteReview(t){this.dialog.open(Xe,{width:"600px",maxWidth:"90vw",data:{title:"Eliminar Rese\xF1a",message:"\xBFEst\xE1s seguro de que deseas eliminar esta rese\xF1a? Esta acci\xF3n no se puede deshacer."}}).afterClosed().subscribe(i=>{i&&this._reviewsService.deleteReview(t).subscribe({next:()=>{this._reviewsService.notifyReviewsChanged()},error:a=>{console.error("Error eliminando review:",a)}})})}onSearchChange(){this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.pagination.page=1,this.pagination.size=this.PAGE_SIZE,this.loadReviews(!0)},500)}scrollToReview(t){let e=document.getElementById(`review-${t}`);e&&setTimeout(()=>{let i=document.querySelector("main.main");if(i){let a=i.getBoundingClientRect(),d=e.getBoundingClientRect(),_=i.scrollTop,H=d.top-a.top,M=_+H-a.height/2+d.height/2;i.scrollTo({top:M,behavior:"smooth"})}else e.scrollIntoView({behavior:"smooth",block:"center"});e.classList.add("highlight-review"),setTimeout(()=>{e.classList.remove("highlight-review")},2e3),this.hasScrolled=!0,this.router.navigate([],{relativeTo:this.route,queryParams:{},queryParamsHandling:"merge"})},800)}shouldShowFriendSlider(t){return(t+1)%10===0}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=v({type:n,selectors:[["app-reviews-content"]],inputs:{users:"users",loadingUsers:"loadingUsers"},outputs:{nextUsers:"nextUsers",prevUsers:"prevUsers"},decls:10,vars:3,consts:[[1,"container","mx-auto","px-4","py-4","text-black"],["appearance","outline",1,"w-full"],["matInput","","type","text","placeholder","Escribe el t\xEDtulo de la pel\xEDcula...",3,"ngModelChange","ngModel"],["matPrefix",""],["matSuffix","","mat-icon-button","",1,"text-gray-500"],[1,"flex","justify-center","items-center","py-12"],["matSuffix","","mat-icon-button","",1,"text-gray-500",3,"click"],["diameter","50"],[1,"grid","gap-6"],[1,"text-center","py-12","text-gray-600"],[1,"flex","justify-center","items-center","py-6"],[1,"review-wrapper",3,"id"],[1,"w-[240px]","md:w-full",3,"editReview","deleteReview","id","title","content","posterPath","reviewerName","directorName","rating","createdAt","userId","currentUserId","likes","comments","liked"],[1,"lg:hidden",3,"users","loading"],[1,"lg:hidden",3,"next","prev","users","loading"],[1,"text-6xl","mb-4"],[1,"text-xl"],["diameter","40"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),s(3,"Buscar por t\xEDtulo"),o(),r(4,"input",2),ve("ngModelChange",function(d){return _e(i.searchQuery,d)||(i.searchQuery=d),d}),p("ngModelChange",function(){return i.onSearchChange()}),o(),r(5,"mat-icon",3),s(6,"search"),o(),g(7,ct,3,0,"button",4),o(),g(8,mt,2,0,"div",5)(9,ht,6,3),o()),e&2&&(l(4),he("ngModel",i.searchQuery),l(3),f(i.searchQuery?7:-1),l(),f(i.isLoading?8:9))},dependencies:[P,Ve,De,Oe,He,Ye,F,Re,R,E,We,Qe,Be,Ae,je,ze,$e,Fe,Pe,ie],styles:[".pagination-button[_ngcontent-%COMP%]{min-width:40px}.pagination-button.active-page[_ngcontent-%COMP%]{background-color:#1976d2;color:#fff}.pagination-button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.review-wrapper[_ngcontent-%COMP%]{transition:all .3s ease}.review-wrapper.highlight-review[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_highlight-pulse 2s ease-in-out}@keyframes _ngcontent-%COMP%_highlight-pulse{0%{box-shadow:0 0 #9811fb00}50%{box-shadow:0 0 20px 5px #9811fb66;transform:scale(1.02)}to{box-shadow:0 0 #9811fb00;transform:scale(1)}}"]})};function _t(n,t){n&1&&(r(0,"mat-icon",3),s(1,"movie"),o(),s(2," Pel\xEDculas "))}function vt(n,t){n&1&&(r(0,"mat-icon",3),s(1,"book"),o(),s(2," Libros "))}var re=class n{users=[];loadingUsers=!1;nextUsers=new S;prevUsers=new S;static \u0275fac=function(e){return new(e||n)};static \u0275cmp=v({type:n,selectors:[["app-card-home-tab"]],inputs:{users:"users",loadingUsers:"loadingUsers"},outputs:{nextUsers:"nextUsers",prevUsers:"prevUsers"},decls:8,vars:2,consts:[[1,"bg-[#F0F4F9]/70","backdrop-blur-sm","rounded-lg","shadow-lg","border-[0.5px]","border-[#757575]"],["mat-tab-label",""],[3,"nextUsers","prevUsers","users","loadingUsers"],[1,"mr-1"]],template:function(e,i){e&1&&(r(0,"article",0)(1,"mat-tab-group")(2,"mat-tab"),j(3,_t,3,0,"ng-template",1),r(4,"app-reviews-content",2),p("nextUsers",function(){return i.nextUsers.emit()})("prevUsers",function(){return i.prevUsers.emit()}),o()(),r(5,"mat-tab"),j(6,vt,3,0,"ng-template",1),w(7,"app-books-content"),o()()()),e&2&&(l(4),m("users",i.users)("loadingUsers",i.loadingUsers))},dependencies:[P,qe,Ie,Te,ke,R,E,Le,ne],encapsulation:2})};var Je=n=>["/profile/public-profile",n],bt=(n,t)=>t.id,wt=(n,t)=>t.email;function Ct(n,t){n&1&&(r(0,"div",5),w(1,"app-loader"),o())}function St(n,t){n&1&&(r(0,"span"),s(1,"Cancelando..."),o())}function yt(n,t){n&1&&(r(0,"span"),s(1,"Cancelar solicitud"),o())}function Et(n,t){if(n&1){let e=b();r(0,"button",22),p("click",function(){x(e);let a=c().$implicit,d=c(2);return h(d.cancelFriendRequest(a.id))}),g(1,St,2,0,"span")(2,yt,2,0,"span"),o()}if(n&2){let e=c().$implicit,i=c(2);m("disabled",i.cancelingRequest[e.id]),l(),f(i.cancelingRequest[e.id]?1:2)}}function Rt(n,t){n&1&&(r(0,"span"),s(1,"Enviando..."),o())}function Mt(n,t){n&1&&(r(0,"span"),s(1,"A\xF1adir amigo"),o())}function Pt(n,t){if(n&1){let e=b();r(0,"button",23),p("click",function(){x(e);let a=c().$implicit,d=c(2);return h(d.sendFriendRequest(a.id))}),g(1,Rt,2,0,"span")(2,Mt,2,0,"span"),o()}if(n&2){let e=c().$implicit,i=c(2);m("disabled",i.sendingRequest[e.id]),l(),f(i.sendingRequest[e.id]?1:2)}}function Ft(n,t){if(n&1){let e=b();r(0,"div",11)(1,"img",13),p("error",function(a){x(e);let d=c(2);return h(d.onImageError(a))}),o(),r(2,"div",14)(3,"span",15),s(4),o(),r(5,"span"),s(6),o(),r(7,"div",16)(8,"span",17),s(9),o()(),r(10,"div",18),g(11,Et,3,2,"button",19)(12,Pt,3,2,"button",20),r(13,"button",21)(14,"mat-icon",8),s(15,"visibility"),o(),r(16,"span"),s(17,"Ver perfil"),o()()()()()}if(n&2){let e=t.$implicit;l(),m("src",e.avatarUrl||"/assets/images/defaultUser.png",A),l(3),y(" ",e.fullName||"Usuario desconocido"," "),l(2),y(" ","@"+(e.username||"Usuario desconocido")),l(3),y(" ",e.country," "),l(2),f(e.hasPendingRequest&&e.isSender?11:12),l(2),m("routerLink",z(6,Je,e.id))}}function Ut(n,t){n&1&&(r(0,"div",12),s(1," No hay sugerencias disponibles "),o())}function It(n,t){if(n&1&&T(0,Ft,18,8,"div",11,bt,!1,Ut,2,0,"div",12),n&2){let e=c();k(e.users)}}function Tt(n,t){if(n&1){let e=b();r(0,"button",34),p("click",function(){x(e);let a=c().$implicit,d=c(2);return h(d.sendFriendRequest(a.id))}),r(1,"mat-icon",35),s(2,"add"),o()()}if(n&2){let e=c().$implicit,i=c(2);m("disabled",i.sendingRequest[e.id])}}function kt(n,t){if(n&1){let e=b();r(0,"button",36),p("click",function(){x(e);let a=c().$implicit,d=c(2);return h(d.cancelFriendRequest(a.id))}),r(1,"mat-icon",35),s(2,"close"),o()()}if(n&2){let e=c().$implicit,i=c(2);m("disabled",i.cancelingRequest[e.id])}}function qt(n,t){if(n&1){let e=b();r(0,"div",26)(1,"div",27)(2,"img",28),p("error",function(a){x(e);let d=c(2);return h(d.onImageError(a))}),o(),g(3,Tt,3,1,"button",29)(4,kt,3,1,"button",30),o(),r(5,"span",31),s(6),o(),r(7,"a",32)(8,"mat-icon",33),s(9,"visibility"),o()()()}if(n&2){let e=t.$implicit;l(2),m("alt",W(e.fullName))("src",e.avatarUrl||"/assets/images/defaultUser.png",A),l(),f(e.hasPendingRequest?e.isSender?4:-1:3),l(3),y(" ",(e.fullName||"").split(" ")[0]||"Usuario"," "),l(),m("routerLink",z(6,Je,e.id))}}function Nt(n,t){if(n&1&&(r(0,"div",24)(1,"div",25),T(2,qt,10,8,"div",26,wt),o()()),n&2){let e=c();l(2),k(e.users)}}var oe=class n{_friendRequestService=u(G);_notificationsService=u(X);loading=!1;sendingRequest={};cancelingRequest={};users=[];paginationParams={page:1,size:5,total:0,pageCount:0,hasPreviousPage:!1,hasNextPage:!1};next=new S;prev=new S;showStickyCard=!1;onScroll(){this.showStickyCard=window.scrollY>100}nextPage(){this.next.emit()}prevPage(){this.prev.emit()}sendFriendRequest(t){this.sendingRequest[t]||(this.sendingRequest[t]=!0,this._friendRequestService.sendFriendRequest(t).subscribe({next:e=>{this._notificationsService.success(e.message||"Solicitud de amistad enviada correctamente"),this.users=this.users.map(i=>i.id===t?U(C({},i),{hasPendingRequest:!0,isSender:!0}):i),this.sendingRequest[t]=!1},error:e=>{console.error("\u274C Error al enviar solicitud de amistad:",e);let i=e?.error?.message||"No se pudo enviar la solicitud de amistad";this._notificationsService.error(i),this.sendingRequest[t]=!1}}))}cancelFriendRequest(t){this.cancelingRequest[t]||(this.cancelingRequest[t]=!0,this._friendRequestService.cancelFriendRequest(t).subscribe({next:e=>{this._notificationsService.success(e.message||"Solicitud de amistad cancelada correctamente"),this.users=this.users.map(i=>i.id===t?U(C({},i),{hasPendingRequest:!1,isSender:null}):i),this.cancelingRequest[t]=!1},error:e=>{console.error("\u274C Error al cancelar solicitud de amistad:",e);let i=e?.error?.message||"No se pudo cancelar la solicitud de amistad";this._notificationsService.error(i),this.cancelingRequest[t]=!1}}))}onImageError(t){let e=t.target;e.src="/assets/images/defaultUser.png"}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=v({type:n,selectors:[["app-friend-card"]],hostBindings:function(e,i){e&1&&p("scroll",function(){return i.onScroll()},ue)},inputs:{loading:"loading",users:"users",paginationParams:"paginationParams"},outputs:{next:"next",prev:"prev"},decls:20,vars:6,consts:[[1,"hidden","lg:flex","bg-[#F0F4F9]","rounded-lg","shadow-lg","border-[0.5px]","border-[#757575]","p-3","md:p-4","flex-col","gap-3","w-full","overflow-hidden"],[1,"flex","items-center","gap-2","px-1"],[1,"text-[#9811fb]","text-xl","md:text-2xl"],[1,"font-semibold","text-sm","md:text-base","lg:text-xl"],[1,"flex","flex-col","gap-3"],[1,"flex","items-center","justify-center","h-full","pt-2","pb-4"],[1,"flex","justify-between","items-center","mt-2","px-1"],[1,"flex","items-center","gap-1","px-3","py-2","text-sm","border","border-gray-300","rounded-lg","text-gray-700","hover:bg-gray-100","disabled:opacity-50","disabled:cursor-not-allowed","transition-all",3,"click","disabled"],[1,"text-base"],[1,"text-xs","text-gray-600"],["class","lg:hidden fixed top-16 left-0 right-0 z-40 bg-white border-b border-gray-200 shadow-md animate-slideDown",4,"ngIf"],[1,"flex","flex-col","w-full","items-center","gap-3","bg-white","rounded-lg","shadow-lg","border-[0.5px]","border-[#757575]","p-4","hover:shadow-xl","transition-all"],[1,"text-center","text-gray-600","py-8","w-full","text-sm"],["alt","Usuario","referrerpolicy","no-referrer","crossorigin","anonymous",1,"w-20","h-20","md:w-24","md:h-24","rounded-full","object-cover","flex-shrink-0","border-2","border-[#9811fb]/20",3,"error","src"],[1,"flex","flex-col","w-full","gap-2","items-center"],[1,"font-semibold","text-gray-800","text-sm","md:text-base","lg:text-lg","text-center"],[1,"flex","flex-wrap","gap-1.5","justify-center"],[1,"px-2","py-0.5","text-xs","bg-[#9811fb]","border","border-gray-300","rounded-full","text-white"],[1,"flex","flex-col","gap-2","w-full"],["mat-raised-button","","color","warn",1,"w-full","!bg-red-600","!text-white",3,"disabled"],["mat-fab","","extended","",1,"w-full",3,"disabled"],["mat-fab","","extended","",1,"w-full",3,"routerLink"],["mat-raised-button","","color","warn",1,"w-full","!bg-red-600","!text-white",3,"click","disabled"],["mat-fab","","extended","",1,"w-full",3,"click","disabled"],[1,"lg:hidden","fixed","top-16","left-0","right-0","z-40","bg-white","border-b","border-gray-200","shadow-md","animate-slideDown"],[1,"flex","items-center","gap-3","p-3","overflow-x-auto","scrollbar-hide"],[1,"flex","flex-col","items-center","gap-2","min-w-[90px]"],[1,"relative"],["referrerpolicy","no-referrer","crossorigin","anonymous",1,"w-16","h-16","rounded-full","object-cover","border-2","border-[#9811fb]",3,"error","src","alt"],[1,"absolute","-bottom-1","-right-1","w-6","h-6","bg-[#9811fb]","hover:bg-[#7d0fd0]","text-white","rounded-full","flex","items-center","justify-center","text-xs","disabled:opacity-50",3,"disabled"],[1,"absolute","-bottom-1","-right-1","w-6","h-6","bg-red-500","hover:bg-red-600","text-white","rounded-full","flex","items-center","justify-center","text-xs","disabled:opacity-50",3,"disabled"],[1,"text-xs","text-gray-800","text-center","truncate","w-full","px-1"],[1,"w-full","py-1","text-xs","bg-gray-200","text-gray-700","rounded-lg","hover:bg-gray-300","transition-all","text-center","flex","items-center","justify-center","gap-1",3,"routerLink"],[1,"text-xs"],[1,"absolute","-bottom-1","-right-1","w-6","h-6","bg-[#9811fb]","hover:bg-[#7d0fd0]","text-white","rounded-full","flex","items-center","justify-center","text-xs","disabled:opacity-50",3,"click","disabled"],[1,"text-sm"],[1,"absolute","-bottom-1","-right-1","w-6","h-6","bg-red-500","hover:bg-red-600","text-white","rounded-full","flex","items-center","justify-center","text-xs","disabled:opacity-50",3,"click","disabled"]],template:function(e,i){e&1&&(r(0,"article",0)(1,"div",1)(2,"mat-icon",2),s(3,"people"),o(),r(4,"span",3),s(5,"Sugerencias de amistad"),o()(),r(6,"div")(7,"div",4),g(8,Ct,2,0,"div",5)(9,It,3,1),o()(),r(10,"div",6)(11,"button",7),p("click",function(){return i.prevPage()}),r(12,"mat-icon",8),s(13,"chevron_left"),o()(),r(14,"span",9),s(15),o(),r(16,"button",7),p("click",function(){return i.nextPage()}),r(17,"mat-icon",8),s(18,"chevron_right"),o()()()(),j(19,Nt,4,0,"div",10)),e&2&&(l(8),f(i.loading?8:9),l(3),m("disabled",!i.paginationParams.hasPreviousPage),l(4),xe(" ",i.paginationParams.page," de ",i.paginationParams.pageCount," "),l(),m("disabled",!i.paginationParams.hasNextPage),l(3),m("ngIf",i.showStickyCard))},dependencies:[R,E,P,we,L,F,D,O,Ue],styles:[".scrollbar-hide[_ngcontent-%COMP%]{-ms-overflow-style:none;scrollbar-width:none}.scrollbar-hide[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}@keyframes _ngcontent-%COMP%_slideDown{0%{transform:translateY(-100%);opacity:0}to{transform:translateY(0);opacity:1}}.animate-slideDown[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideDown .3s ease-out}[_nghost-%COMP%]     .mat-icon{-webkit-user-select:none;user-select:none}"]})};var ae=class n{_httpClient=u(Ce);_httpUtilities=u(Ne);getRecommendationsWithPagination(t){let e=this._httpUtilities.httpParamsFromObject(t);return this._httpClient.get(`${Ee.backendUrl}recommendations`,{params:e})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})};var se=class n{dialog=u(J);reviewsService=u(Z);_userFriend=u(ae);_supabaseClient=u(Me);cdr=u(be);users=[];loading=!1;paginationParams={page:1,size:5,total:0,pageCount:0,hasPreviousPage:!1,hasNextPage:!1};ngOnInit(){this.loadUsers()}loadUsers(t=""){return de(this,null,function*(){this.loading=!0;let e={page:this.paginationParams.page,size:this.paginationParams.size,search:t};this._userFriend.getRecommendationsWithPagination(e).subscribe({next:i=>de(this,null,function*(){let a=[];i.data&&Array.isArray(i.data)?a=i.data:Array.isArray(i)&&(a=i);let d=a.map(M=>M.id),_={};if(d.length>0){let{data:M}=yield this._supabaseClient.from("profile").select("id, username, avatarUrl").in("id",d);M&&M.forEach(V=>{_[V.id]=V})}let H=a.map(M=>{let V=_[M.id];return U(C({},M),{username:V?.username||M.username||"usuario",avatarUrl:V?.avatarUrl||M.avatarUrl||"/assets/images/defaultUser.png"})});this.users=H,this.paginationParams={page:i.page||i.pagination?.page||this.paginationParams.page,size:i.size||i.pagination?.size||this.paginationParams.size,total:i.total||i.pagination?.total||0,pageCount:i.totalPages||i.pagination?.totalPages||0,hasPreviousPage:i.hasPrevious||i.pagination?.hasPrevious||!1,hasNextPage:i.hasNext||i.pagination?.hasNext||!1},this.loading=!1,this.cdr.detectChanges()}),error:i=>{console.error("\u274C Error en la solicitud:",i),this.loading=!1}})})}nextPage(){this.paginationParams.hasNextPage&&(this.paginationParams.page++,this.loadUsers())}prevPage(){this.paginationParams.hasPreviousPage&&(this.paginationParams.page--,this.loadUsers())}createReviews(){this.dialog.open(K,{width:"600px",maxWidth:"90vw",data:{title:"Crear Rese\xF1a",message:"Comparte tu opini\xF3n sobre una pel\xEDcula"}}).afterClosed().subscribe(e=>{e&&e.content&&e.rating&&e.movieId&&this.reviewsService.createReview(e).subscribe({next:()=>{this.reviewsService.notifyReviewsChanged()},error:i=>{console.error("Error creando review:",i)}})})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=v({type:n,selectors:[["app-home-logged"]],decls:16,vars:5,consts:[[1,"text-black","flex","flex-col","items-center","justify-center","p-3","md:px-6","py-6","md:py-12"],[1,"flex","flex-col","justify-start","w-full"],[1,"text-lg","md:text-3xl","lg:text-4xl","2xl:text-5xl","3xl:text-6xl","font-extrabold","text-[#9811fb]","drop-shadow-md"],[1,"text-sm","md:text-base","lg:text-lg","2xl:text-lg","3xl:text-lg","font-semibold","mb-4","text-[#757575]"],[1,"flex","flex-col","md:flex-col","lg:flex-row","2xl:flex-row","3xl:flex-row","gap-10","md:gap-5","lg:gap-5","2xl:gap-10","3xl:gap-5","w-full"],[1,"flex","flex-col","w-full","h-full","md:w-full","lg:w-[60%]","2xl:w-[70%]","3xl:w-[75%]","gap-5","md:gap-5","lg:gap-5","2xl:gap-10","3xl:gap-5"],[1,"add-recommendation-btn","flex","flex-col","w-full","rounded-lg","shadow-lg","justify-center","items-center","p-4","bg-[#F0F4F9]/70","backdrop-blur-sm","cursor-pointer","text-[#757575]","hover:text-white",3,"click"],[1,"font-extrabold"],[1,"font-medium"],[1,"w-full",3,"nextUsers","prevUsers","users","loadingUsers"],[1,"hidden","md:hidden","lg:flex","2xl:flex","3xl:flex","w-full","h-full","md:w-full","lg:w-[40%]","2xl:w-[30%]","3xl:w-[25%]"],[1,"w-full",3,"next","prev","users","loading","paginationParams"]],template:function(e,i){e&1&&(r(0,"article",0)(1,"div",1)(2,"span",2),s(3," Descubre nuevas recomendaciones "),o(),r(4,"span",3),s(5," Explora lo que tu comunidad est\xE1 recomendando y comparte tus favoritos "),o()(),r(6,"section",4)(7,"div",5)(8,"button",6),p("click",function(){return i.createReviews()}),r(9,"mat-icon",7),s(10,"add"),o(),r(11,"span",8),s(12,"A\xF1adir nueva recomendaci\xF3n"),o()(),r(13,"app-card-home-tab",9),p("nextUsers",function(){return i.nextPage()})("prevUsers",function(){return i.prevPage()}),o()(),r(14,"div",10)(15,"app-friend-card",11),p("next",function(){return i.nextPage()})("prev",function(){return i.prevPage()}),o()()()()),e&2&&(l(13),m("users",i.users)("loadingUsers",i.loading),l(2),m("users",i.users)("loading",i.loading)("paginationParams",i.paginationParams))},dependencies:[re,oe,R,E],styles:[`.mat-icon[_ngcontent-%COMP%]{height:45px!important;width:45px!important;font-size:45px!important}@media (max-width: 1536px){.mat-icon[_ngcontent-%COMP%]{height:35px!important;width:35px!important;font-size:35px!important}}@media (max-width: 768px){.mat-icon[_ngcontent-%COMP%]{height:25px!important;width:25px!important;font-size:25px!important}}.add-recommendation-btn[_ngcontent-%COMP%]{background-image:url('data:image/svg+xml,%3csvg xmlns="http://www.w3.org/2000/svg"%3e%3crect x="0.5" y="0.5" width="calc(100%25 - 1px)" height="calc(100%25 - 1px)" rx="8" ry="8" fill="none" stroke="%23757575" stroke-width="1" stroke-dasharray="10 5"/%3e%3c/svg%3e');background-size:100% 100%;background-repeat:no-repeat;background-position:center;background-color:transparent;transition:background-color .3s ease,background-image .3s ease}.add-recommendation-btn[_ngcontent-%COMP%]:hover{background-image:url('data:image/svg+xml,%3csvg xmlns="http://www.w3.org/2000/svg"%3e%3crect x="0.5" y="0.5" width="calc(100%25 - 1px)" height="calc(100%25 - 1px)" rx="8" ry="8" fill="none" stroke="%23FFFFFF" stroke-width="1" stroke-dasharray="10 5"/%3e%3c/svg%3e');background-color:#9811fb}`]})};function Lt(n,t){n&1&&w(0,"app-home-logout")}function Dt(n,t){n&1&&w(0,"app-home-logged")}var le=class n{_supabaseService=u(Y);sub;isReady=!1;isLoggedIn=!1;ngOnInit(){this.sub=this._supabaseService.user$.pipe($((t,e)=>JSON.stringify(t)===JSON.stringify(e))).subscribe(t=>{this.isReady=!0,this.isLoggedIn=!!t})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=v({type:n,selectors:[["app-home"]],decls:2,vars:1,template:function(e,i){e&1&&g(0,Lt,1,0,"app-home-logout")(1,Dt,1,0,"app-home-logged"),e&2&&f(i.isLoggedIn?1:0)},dependencies:[F,te,P,se],encapsulation:2})};var zn=[{path:"",children:[{path:"home",component:le}]}];export{zn as publicRoutes};
