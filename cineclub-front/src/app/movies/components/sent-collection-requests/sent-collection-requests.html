<section class="w-full">
  @if (loading) {
    <div class="flex justify-center items-center text-black p-4">Cargando...</div>
  } @else if (requests.length === 0) {
    <div class="flex justify-center items-center text-black p-4">
      No tienes solicitudes de colecci√≥n enviadas.
    </div>
  } @else {
    <div class="flex flex-col gap-2 overflow-y-auto pr-2">
      @for (req of requests; track req.id) {
        <!-- Mobile View -->
        <div
          class="flex flex-col w-full md:hidden justify-between items-center bg-white rounded-lg border-[0.5px] border-[#757575] p-3 gap-2"
        >
          <div class="flex flex-row w-full items-center gap-3">
            <img
              [src]="req.receiverAvatar || 'assets/images/defaultUser.png'"
              alt="Avatar"
              class="w-12 h-12 rounded-full object-cover shadow-sm border-[0.5px] border-[#757575]"
              (error)="onImageError($event)"
              referrerpolicy="no-referrer"
              crossorigin="anonymous"
            />
            <div class="flex-1">
              <p class="text-[10px] text-gray-800 font-medium">
                {{ req.receiverName || 'Usuario desconocido' }}
              </p>
              <p class="text-[10px] text-gray-500">{{ req.receiverEmail }}</p>
              <div class="flex items-center gap-1 mt-1">
                <span
                  class="px-2 py-0.5 text-[8px] bg-yellow-100 text-yellow-800 rounded-full font-medium"
                >
                  Pendiente
                </span>
              </div>
            </div>
          </div>
        </div>

        <!-- Desktop View -->
        <div
          class="hidden md:flex justify-between items-center bg-white rounded-lg border-[0.5px] border-[#757575] p-3"
        >
          <div class="flex items-center gap-3">
            <img
              [src]="req.receiverAvatar || 'assets/images/defaultUser.png'"
              alt="Avatar"
              class="w-10 h-10 rounded-full object-cover shadow-sm border-[0.5px] border-[#757575]"
              (error)="onImageError($event)"
              referrerpolicy="no-referrer"
              crossorigin="anonymous"
            />
            <div>
              <p class="text-sm text-gray-800 font-medium">
                {{ req.receiverName || 'Usuario desconocido' }}
              </p>
              <p class="text-xs text-gray-500">{{ req.receiverEmail }}</p>
            </div>
          </div>
          <span class="px-3 py-1 text-xs bg-yellow-100 text-yellow-800 rounded-full font-medium">
            Pendiente
          </span>
        </div>
      }
    </div>
  }
</section>
